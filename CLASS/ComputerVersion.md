 # Computer Version计算机视觉

### Introduction
##### AI
- 人工智能技术发展的三个阶段:
    - 计算智能:机器对信息进行存储和计算
    - 感知智能:能听会说、能认会看
    - 认知智能:能理解、会思考

- 人工智能的研究领域（朱松纯 浅谈人工智能）
    - 计算机视觉
    - 自然语言理解与交流(如语音的识别、合成)
    - 认知与推理(包含各种物理和社会常识)
    - 机器人学(机械、控制、设计、运动规划、任务规划等)
    - 博弈与伦理(包括对抗与合作、机器人与社会融合等议题)
    - 机器学习( 各种统计的建模、分析工具和计算的方法)
#### 计算机视觉
计算机视觉:一门研究如何使机器“看”的科学；在2010后深度学习方法大放异彩
##### 常见研究方向
- 图像分类Image Classification
- 目标检测Object Detection（首先要进行前景检测）
- 图像分割Image Segmentation（语义分割，实例分割，全景分割）
- 风格迁移Style Transfer
- 图像修复Image Inpainting
- 图像超分辨率Image Super-resolution
- 图像生成Image Generation/Synthesis（GAN生成对抗网络）
- 医学图像处理Medical Image Analysis
.....

### 图像处理基础
##### 
- 灰度图像：只有一个采样颜色，通常由256个灰度等级（全黑->全白）
- 彩色图像：RGB模型（最早但不直观）；HSV模型（符合感知）；CMYK模型（主要用于彩色打印）
- 图像采样(Sampling)和量化(Quantization)
    - 图像的采样可以理解为坐标点的选取（分辨率）
    - 图像量化:图像函数值(灰度值)的数字化（可以理解为幅值的数字化，材质信息）

##### 图像滤波与卷积
- 功能：平滑/锐化图像，边缘检测，模板匹配
- 滤波
    - 动机：降噪——椒盐噪声（黑白）脉冲噪声（白色）高斯噪声（服从高斯分布的噪声）
    - 均值滤波：消除尖锐噪声，实现图像的平滑/模糊
    - 中值滤波：用每个像素和它周围像素的中值替换图像中的每个像素（椒盐/脉冲噪声）
        - 可以有效保留边缘
    - 高斯滤波：用每个像素和它周围像素的加权平均灰度值替换图像中的每个像素。距离中心像素越近，分配权重越大
        - 高斯滤波核是对高斯方法的模拟近似。
- 卷积
    - 互相关：滤波核的计算
        - 对图像矩阵和滤波矩阵按位进行逐个元素相乘再求和的操作。
    - 卷积：对滤波核上下翻转、左右翻转（等于旋转 $\pi$）再乘
        - 先对滤波矩阵顺时针旋转180° (由下到上，由右到左)，而后再按位点乘求和。
    - 注：深度学习中的卷积可以看作互相关运算，因为深度学习中的卷积核的参数是可学习的，无所谓翻转

### 应用
* 滤波和卷积都是为了**提取特征**；滤波以去除噪声，卷积通过映射来减少数据和展现信息；
- 导数，偏导和图像梯度（对每个变量进行偏导，变化最快的方向）；有限差分

### 边缘检测
- 对不同方向进行求导的滤波器（边缘检测常用**Sobel算子**121）
* **Canny边缘检测器**：图像降噪，计算图像梯度，非极大值抑制（选择边缘像素），双阈值筛选（邻接）
* **图像锐化**：找到图像边缘，将边缘加到原本图像上

- 边界处理：对于不做任何处理的图像，卷积后会变小；当然也可以填充额外的行列

* 模板匹配：模板的值作为滤波器的值，互相关图亮度最高处就是匹配度最大处（不是子图也可以这么做）
* 图像放缩
    * 缩小：交替去除一些行列（但失真）；
        * 可以进行滤波采样（一个点存储多个点信息，每减少1/2尺寸，滤波核大小应增加一倍）
    * 放大：最近邻？（锯齿）
        * 双线性插值；双三次插值Bicubic；深度学习方法（生成任务）图像超分辨率重建（SRCNN）


##### 图像边缘检测
- 边缘检测只是检测出了位于边缘的点，但不能检测线
- 霍夫变换算法：由点的极坐标表示生成其可能直线的参数空间（曲线），各点曲线的交点即为过两点的直线
    - 算法实现：思想：建立一个二维矩阵作为累加器，$(\theta , r)$ 为矩阵元素
    - 算法流程：1.转为灰度图；2.边缘检测算法检测边缘点；3.初始化元素全为0的矩阵H；4.对每个点的每个 $\theta$ ，求其r，累加到H中；5.大于某个阈值的均为想要的直线
        - 也就是说，这个变换执行一次可以算出图中所有的边缘直线
- 计算圆的霍夫圆算法（三维曲线）


### 特征检测和匹配
- 局部特征检测与匹配是困难的……噪声，遮挡，人为压缩，光线，视角…
- 好的局部特征应该具备
    - 可重复性:可检测的特征（选择不变性，尺度不变性）
    - 显著性
    - 表达紧凑而高效
    - 局部性（局部不受全局变化影响）
- 相较于平坦地区，边缘和角点（corner沿着任意方向移动，灰度都会明显改变）是关注的对象
- **Harris角点检测**